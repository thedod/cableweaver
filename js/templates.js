window.the_svg='<svg width="700" height="500"><defs><marker id="arrow-head" viewBox="0 0 10 10" refX="1" refY="5" markerWidth="4" markerHeight="3" markerUnit="strokeWidth" orient="auto"><polyline style="fill: #000000;" points="0,0 5,5 0,10 1,5"></polyline></marker></defs>'+
'<line marker-end="url(#arrow-head)" class="link" style="stroke-width: 2.2740880606408886px;" x1="289.0817106211457" y1="167.44784770636662" x2="283.4120746475987" y2="174.61044345253055"></line> <line marker-end="url(#arrow-head)" class="link" style="stroke-width: 2.2135566319130886px;" x1="291.2660064612407" y1="148.85075814108126" x2="287.01314248004905" y2="139.7163032208794"></line> <line marker-end="url(#arrow-head)" class="link" style="stroke-width: 2.334400569192458px;" x1="264.2975617411448" y1="183.37093211017125" x2="254.17978978695618" y2="181.83824327891446"></line> <line marker-end="url(#arrow-head)" class="link" style="stroke-width: 2.1530503790055553px;" x1="427.5721179214183" y1="330.45377899374756" x2="432.97583256629935" y2="333.13414261224654"></line> <line marker-end="url(#arrow-head)" class="link" style="stroke-width: 2.127633746545166px;" x1="415.1431405599465" y1="308.8223259389044" x2="415.6917428590049" y2="300.6830753835843"></line> <line marker-end="url(#arrow-head)" class="link" style="stroke-width: 2.9833894316284923px;" x1="214.4696366121491" y1="229.8205037556245" x2="216.0028628550697" y2="219.57825877907513"></line> <line marker-end="url(#arrow-head)" class="link" style="stroke-width: 3.041074898065293px;" x1="216.47305514620632" y1="251.08240236541087" x2="220.06013768322177" y2="261.337298515562"></line> <line marker-end="url(#arrow-head)" class="link" style="stroke-width: 2.9254850450154612px;" x1="225.36212393366273" y1="197.5106656417426" x2="231.76818527110993" y2="190.27036571506588"></line> <line marker-end="url(#arrow-head)" class="link" style="stroke-width: 3.49467750321539px;" x1="245.86992180769457" y1="289.7756572237823" x2="236.47499801282063" y2="283.03810971209623"></line> <line marker-end="url(#arrow-head)" class="link" style="stroke-width: 3.19266617409627px;" x1="264.93149709468474" y1="300.4911451061153" x2="281.1498956351979" y2="307.3884898924676"></line> <line marker-end="url(#arrow-head)" class="link" style="stroke-width: 2.328337574911748px;" x1="260.63614671141465" y1="305.5158838848724" x2="264.23405526261547" y2="311.27626793419876"></line> <line marker-end="url(#arrow-head)" class="link" style="stroke-width: 3.4369701447609664px;" x1="292.5148311699333" y1="293.2129790330854" x2="292.97429524320717" y2="298.55896177678466"></line> <line marker-end="url(#arrow-head)" class="link" style="stroke-width: 2.232111211449525px;" x1="286.63125041361076" y1="292.08089878903075" x2="277.2391762390867" y2="310.7590227856"></line>'+
'<line marker-end="url(#arrow-head)" class="link" style="stroke-width: 2.451730837643324px;" x1="299.7355708299693" y1="274.87972443523086" x2="310.7888464189021" y2="264.8948698622787"></line> <line marker-end="url(#arrow-head)" class="link" style="stroke-width: 5.521539008838902px;" x1="505.92676684965426" y1="278.83918673446897" x2="516.96954085661" y2="256.8540158475751"></line> <line marker-end="url(#arrow-head)" class="link" style="stroke-width: 3.326218427605834px;" x1="502.2982039912918" y1="226.96225019991783" x2="509.6833505048565" y2="230.53495244866778"></line> <line marker-end="url(#arrow-head)" class="link" style="stroke-width: 6px;" x1="458.1161059356395" y1="301.13003699041985" x2="478.66891086681363" y2="296.6836969725681"></line> <line marker-end="url(#arrow-head)" class="link" style="stroke-width: 5.47915606272063px;" x1="446.5600547088323" y1="314.42646425149303" x2="445.96458795189085" y2="322.5438460177883"></line> <line marker-end="url(#arrow-head)" class="link" style="stroke-width: 2.789141559258955px;" x1="437.5872808079663" y1="298.41612657248305" x2="428.8312841283983" y2="293.9028629224526"></line> <line marker-end="url(#arrow-head)" class="link" style="stroke-width: 2.6119234873984074px;" x1="399.6538468095403" y1="268.9454801762611" x2="407.4254367269453" y2="277.5065772372447"></line> <line marker-end="url(#arrow-head)" class="link" style="stroke-width: 2.061078729168377px;" x1="381.6637220469221" y1="145.51524965424247" x2="370.76936955436514" y2="145.4059127963131"></line> <line marker-end="url(#arrow-head)" class="link" style="stroke-width: 2px;" x1="353.62799933442227" y1="121.68147689303301" x2="355.49323674167886" y2="132.46505090055044"></line> <line marker-end="url(#arrow-head)" class="link" style="stroke-width: 5.415231371261253px;" x1="312.0584071155489" y1="334.41158465257377" x2="304.70448665631096" y2="325.5657713986868"></line> <line marker-end="url(#arrow-head)" class="link" style="stroke-width: 2.358911966724133px;" x1="283.2099059692688" y1="348.744260449813" x2="276.83143762978005" y2="334.7382738163692"></line>'+
'<line marker-end="url(#arrow-head)" class="link" style="stroke-width: 2.8038781709219274px;" x1="347.0799561388549" y1="249.9192494897832" x2="334.23376708961786" y2="252.82865512540602"></line> <line marker-end="url(#arrow-head)" class="link" style="stroke-width: 2.061078729168377px;" x1="390.8149748754123" y1="134.7820172277397" x2="389.03579890956263" y2="124.3433277731421"></line> <line marker-end="url(#arrow-head)" class="link" style="stroke-width: 2.867361738226199px;" x1="397.3986252574927" y1="155.55415802999917" x2="401.34391911099027" y2="163.82599220317735"></line> <line marker-end="url(#arrow-head)" class="link" style="stroke-width: 2px;" x1="362.7514188696019" y1="111.03848726349462" x2="373.84337334288546" y2="111.23621782674161"></line> <line marker-end="url(#arrow-head)" class="link" style="stroke-width: 2.9254850450154612px;" x1="430.6834426695081" y1="175.80876099336223" x2="421.2356179661679" y2="176.02456691911775"></line> <line marker-end="url(#arrow-head)" class="link" style="stroke-width: 3.21281777631831px;" x1="484.3104697893399" y1="214.71379727725093" x2="477.1237467491937" y2="208.08479946498284"></line> <line marker-end="url(#arrow-head)" class="link" style="stroke-width: 3.1557890704102016px;" x1="449.792855484506" y1="182.98662327186375" x2="456.2369565676512" y2="188.8879960215931"></line> <line marker-end="url(#arrow-head)" class="link" style="stroke-width: 5.0024792709958135px;" x1="328.60541597945394" y1="348.3899269825076" x2="335.7334250740561" y2="352.5249157112086"></line> <line marker-end="url(#arrow-head)" class="link" style="stroke-width: 2.956800481624388px;" x1="329.3574719886656" y1="372.0456877986725" x2="337.44150642413564" y2="367.4510967822506"></line> <line marker-end="url(#arrow-head)" class="link" style="stroke-width: 2.9244977150206606px;" x1="351.07127897456803" y1="382.62766937698126" x2="350.5169167500836" y2="374.44736270594825"></line>'+
'<line marker-end="url(#arrow-head)" class="link" style="stroke-width: 2.245908655556468px;" x1="381.99954620776055" y1="256.8363547649665" x2="370.1639744187022" y2="252.263415448672"></line> <line marker-end="url(#arrow-head)" class="link" style="stroke-width: 2.0634398927291135px;" x1="309.28002218728557" y1="347.8456702013918" x2="299.41969610944466" y2="352.8463336898586"></line> <line marker-end="url(#arrow-head)" class="link" style="stroke-width: 2.285213583996935px;" x1="310.29835058360266" y1="371.9285859589661" x2="299.23743873321774" y2="365.4609789436557"></line> <line marker-end="url(#arrow-head)" class="link" style="stroke-width: 2.207525381057932px;" x1="319.57056718897263" y1="366.4833065617274" x2="319.35896321010415" y2="356.07508212309546"></line> <line marker-end="url(#arrow-head)" class="link" style="stroke-width: 2.97901321730564px;" x1="341.9899858993816" y1="388.6559122729197" x2="332.2799998703703" y2="383.76725017262453"></line> <circle id="c08ANKARA1075" class="node SECRET" r="8" style="fill: #678c1c; stroke-width: 2px;" cx="295.9088860983349" cy="158.82290277879363"><title>08ANKARA1075 (2008-06-10, SECRET): TURKEY: 1267 NOTIFICATION ON AL RASHID TRUST AND AL-AKHTAR TRUST</title></circle> <circle id="c08ANKARA932" class="node SECRET" r="8" style="fill: #678c1c; stroke-width: 2.0000000102295123px;" cx="275.17348114853894" cy="185.0184687695107"><title>08ANKARA932 (2008-05-14, SECRET): TURKISH RESPONSE ON UNSCR 1267 LISTING REQUEST</title></circle> <circle id="c08BRASILIA1612" class="node UNCLASSIFIED-FOR-OFFICIAL-USE-ONLY" r="12" style="fill: #3a7916; stroke-width: 6px;" cx="414.1343983581695" cy="323.788368808359"><title>08BRASILIA1612 (2008-12-16, UNCLASSIFIED//FOR OFFICIAL USE ONLY): BRAZIL: DEMARCHE DELIVERIES: TERRORIST FINANCE DESIGNATIONS UNDER EXECUTIVE ORDER 13224</title></circle>'+
'<text x="414.1343983581695" y="323.788368808359">3</text> <circle id="c08JAKARTA1138" class="node CONFIDENTIAL" r="8" style="fill: #66a7ad; stroke-width: 2.000000011773266px;" cx="212.84112281814734" cy="240.699287824754"><title>08JAKARTA1138 (2008-06-11, CONFIDENTIAL): TERRORIST FINANCE -- DEMARCHE ON ADDING ALIASES TO UN 1267 LIST</title></circle> <circle id="c08JAKARTA947" class="node CONFIDENTIAL" r="8" style="fill: #66a7ad; stroke-width: 2.0000000107976237px;" cx="218.07305763473383" cy="205.74896112623568"><title>08JAKARTA947 (2008-05-13, CONFIDENTIAL): TERRORISM FINANCE / UNSCR 1267 LISTING PRENOTIFICATION -- INDONESIAN RESPONSE</title></circle> <circle id="c08PANAMA485" class="node SECRET" r="8" style="fill: #c7dc9e; stroke-width: 2.000011181702439px;" cx="254.80887403715013" cy="296.18620579933423"><title>08PANAMA485 (2008-06-12, SECRET): TERRORISM FINANCE: RECENT PRE-NOTIFICATIONS AND DESIGNATIONS</title></circle> <circle id="c08SANJOSE674" class="node UNCLASSIFIED-FOR-OFFICIAL-USE-ONLY" r="8" style="fill: #a35c88; stroke-width: 2.0001638438802383px;" cx="291.5729012471488" cy="282.2533819592618"><title>08SANJOSE674 (2008-08-19, UNCLASSIFIED//FOR OFFICIAL USE ONLY): TERRORISM FINANCE DESIGNATIONS DELIVERED</title></circle> <circle id="c08SECSTATE59092" class="node MISSING" r="8" style="fill: #356f15; stroke-width: 2px;" cx="281.43596493278534" cy="127.73743977433023"><title>08SECSTATE59092</title></circle> <circle id="c08STATE115523" class="node SECRET pinned" r="12" style="fill: #849ee7; stroke-width: 2.0000239880869883px;" cx="526.1805274088701" cy="238.51576920223363"><title>08STATE115523 (2008-10-29, SECRET): LEVERAGING FATF STATEMENT ON IRAN INTO NATIONAL ACTIONS</title></circle> <text x="526.1805274088701" y="238.51576920223363">1</text> <circle id="c08STATE121356" class="node UNCLASSIFIED pinned" r="12" style="fill: #849ee7; stroke-width: 2.0002968170727384px;" cx="499.19409449869687" cy="292.24333247430087"><title>08STATE121356 (2008-11-14, UNCLASSIFIED): REVOCATION OF IRAN,S U-TURN GENERAL LICENSE</title></circle>'+
'<text x="499.19409449869687" y="292.24333247430087">2</text> <circle id="c08STATE125415" class="node MISSING" r="8" style="fill: #849ee7; stroke-width: 2.1335391894897326px;" cx="444.75896605925664" cy="338.97884100992337"><title>08STATE125415 (2008-11-26)</title></circle> <circle id="c08STATE127070" class="node MISSING" r="8" style="fill: #849ee7; stroke-width: 2.1339814149280096px;" cx="416.5745694036457" cy="287.5851600885647"><title>08STATE127070 (2008-12-02)</title></circle> <circle id="c08STATE47118" class="node MISSING" r="8" style="fill: #849ee7; stroke-width: 2px;" cx="357.7089485535713" cy="145.2748370489075"><title>08STATE47118 (2008-05-04)</title></circle> <circle id="c08STATE49793" class="node MISSING" r="8" style="fill: #849ee7; stroke-width: 2.000000332601233px;" cx="240.99580197455182" cy="179.84106929999982"><title>08STATE49793 (2008-05-09)</title></circle> <circle id="c08STATE59092" class="node MISSING" r="8" style="fill: #849ee7; stroke-width: 2.0000003678709684px;" cx="224.69615894167458" cy="274.59094296470323"><title>08STATE59092 (2008-06-02)</title></circle> <circle id="c08STATE61363" class="node MISSING" r="8" style="fill: #849ee7; stroke-width: 2.0000347747776788px;" cx="294.2105328953614" cy="312.94290502709384"><title>08STATE61363 (2008-06-06)</title></circle> <circle id="c08STATE62052" class="node MISSING" r="8" style="fill: #849ee7; stroke-width: 2.0003027877607984px;" cx="271.2947695665842" cy="322.58073147868134"><title>08STATE62052 (2008-06-10)</title></circle> <circle id="c08STATE68510" class="node MISSING" r="8" style="fill: #849ee7; stroke-width: 2.0000113352951985px;" cx="320.77084952296747" cy="255.87773747116708"><title>08STATE68510 (2008-06-26)</title></circle>'+
'<circle id="c08STATE94499" class="node SECRET" r="8" style="fill: #849ee7; stroke-width: 2px;" cx="392.66316811012484" cy="145.62564124220842"><title>08STATE94499 (2008-09-03, SECRET): (S) FOLLOWING-UP WITH SWEDEN ON DEALINGS BETWEEN THE FIRM MAHACO AND IRAN`S MISSILE AND MILITARY PROGRAMS</title></circle> <circle id="c08STOCKHOLM342" class="node MISSING" r="8" style="fill: #d890ea; stroke-width: 2px;" cx="386.84130824180835" cy="111.46792532200784"><title>08STOCKHOLM342 (2008-05-07)</title></circle> <circle id="c08STOCKHOLM431" class="node SECRET-NOFORN" r="8" style="fill: #d890ea; stroke-width: 2.0000000005563416px;" cx="407.3137643163011" cy="176.34256800502698"><title>08STOCKHOLM431 (2008-06-13, SECRET//NOFORN): SWEDISH INSPECTORATE FOR STRATEGIC PRODUCTS ON CURRENT STATUS OF MAHACO OPERATIONS</title></circle> <circle id="c08STOCKHOLM599" class="node CONFIDENTIAL" r="8" style="fill: #d890ea; stroke-width: 2px;" cx="351.75316626282097" cy="110.84242707519242"><title>08STOCKHOLM599 (2008-08-29, CONFIDENTIAL): ACTION REQUEST: GUIDANCE ON INFORMATION SHARING ON MAHACO--SUPPLIER OF DUAL USE MATERIALS TO IRAN</title></circle> <circle id="c08STOCKHOLM717" class="node UNCLASSIFIED-FOR-OFFICIAL-USE-ONLY" r="8" style="fill: #d890ea; stroke-width: 2.0000014358273517px;" cx="466.6765695921292" cy="198.4483748898751"><title>08STOCKHOLM717 (2008-10-27, UNCLASSIFIED//FOR OFFICIAL USE ONLY): SWEDISH EXPORTS TO IRAN RISING</title></circle> <circle id="c08STOCKHOLM764" class="node SECRET" r="8" style="fill: #d890ea; stroke-width: 2.0000433482783184px;" cx="492.3960549657846" cy="222.1719010814667"><title>08STOCKHOLM764 (2008-11-14, SECRET): SWEDISH MFA ON IRAN, SYRIA AND IRAQ</title></circle> <circle id="c08THEHAGUE1011" class="node UNCLASSIFIED-FOR-OFFICIAL-USE-ONLY pinned" r="8" style="fill: #76236c; stroke-width: 2.0088619141399326px;" cx="447.3648192713197" cy="303.4559422037979"><title>08THEHAGUE1011 (2008-12-08, UNCLASSIFIED//FOR OFFICIAL USE ONLY): NETHERLANDS/TERRORISM FINANCE: REVOCATION OF IRAN`S U-TURN GENERAL LICENSE; DOMESTIC DESIGNATIONS OF UNION OF GOOD AND AL-SHABAAB MEMBERS</title></circle> <circle id="c09BRUSSELS101" class="node SECRET-NOFORN" r="8" style="fill: #773894; stroke-width: 2.0000731866339616px;" cx="349.5754421266301" cy="360.5547293289024"><title>09BRUSSELS101 (2009-01-27, SECRET//NOFORN): (C) EU LIFTS MEK SANCTIONS; SECRETARIAT REQUESTS USG ASSISTANCE</title></circle> <circle id="c09BRUSSELS486" class="node CONFIDENTIAL" r="8" style="fill: #773894; stroke-width: 2.000152487840412px;" cx="357.8082523031251" cy="247.4895043567072"><title>09BRUSSELS486 (2009-04-02, CONFIDENTIAL): TERRORISM FINANCE:  VENEZUELA-BASED HIZBALLAH TERRORIST FINANCIERS (EU RESPONSE TO U.S. DOMESTIC DESIGNATION)</title></circle>'+
'<circle id="c09BRUSSELS488" class="node CONFIDENTIAL" r="8" style="fill: #773894; stroke-width: 2.004443476046659px;" cx="392.2602951533857" cy="260.8008258614499"><title>09BRUSSELS488 (2009-04-02, CONFIDENTIAL): TERRORISM FINANCE:  EU ON UNION OF GOOD U.S. DOMESTIC DESIGNATION</title></circle> <circle id="c09BRUSSELS492" class="node CONFIDENTIAL" r="8" style="fill: #773894; stroke-width: 2.0089013921076297px;" cx="287.76891113726896" cy="358.7550282464482"><title>09BRUSSELS492 (2009-04-02, CONFIDENTIAL): TERRORISM FINANCE:  GULF-BASED AL-QAIDA FINANCIERS</title></circle>'+
'<circle id="c09BRUSSELS517" class="node CONFIDENTIAL-NOFORN" r="8" style="fill: #773894; stroke-width: 2.0008471608288825px;" cx="319.0905036336972" cy="342.8702854132962"><title>09BRUSSELS517 (2009-04-06, CONFIDENTIAL//NOFORN): TERRORISM FINANCE:  EU PROBLEMS DESIGNATING FOUR LET OPERATIVES (DEMARCHE RESPONSE AND SUBSEQUENT ACTIONS)</title></circle> <circle id="c09BRUSSELS616" class="node SECRET-NOFORN" r="8" style="fill: #773894; stroke-width: 2.0004899084283916px;" cx="319.79415603361053" cy="377.48103396462994"><title>09BRUSSELS616 (2009-04-29, SECRET//NOFORN): EU TERRORISM SANCTIONS: TROUBLE CONTINUES</title></circle> <circle id="c09STOCKHOLM778" class="node SECRET" r="8" style="fill: #d890ea; stroke-width: 2.0000000443641075px;" cx="441.68057416284523" cy="175.55756601281442"><title>09STOCKHOLM778 (2009-12-15, SECRET): SWEDISH-IRANIAN ECONOMIC RELATIONS: BUSINESS AS USUAL, RESISTANCE TO FINANCIAL SANCTIONS</title></circle> <circle id="c10BRUSSELS211" class="node CONFIDENTIAL-NOFORN" r="8" style="fill: #773894; stroke-width: 2.000018824492585px;" cx="351.81502004659376" cy="393.60249735822003"><title>10BRUSSELS211 (2010-02-23, CONFIDENTIAL//NOFORN): THE EU AND SANCTIONS (INTRODUCING THE EU, PART VIII)</title></circle></svg>';
window.testit=function() {
    return render_export({
        permalink:"http://thedod.github.com/cableweaver/#7c3bdc3277d155728407a0dc378a1f3f,08BRASILIA1612,08STATE115523,08STATE121356",
        permahash:"7c3bdc3277d155728407a0dc378a1f3f,08BRASILIA1612,08STATE115523,08STATE121356",
        svg:the_svg,
        storyline:[
         {index:1,node:{label:"06FIRST",date:"1970-01-01",classification:"UNCLASSIFIED",uri:"http://example.com/first",subjects:"this is the 1st subject"}},
         {index:2,node:{label:"07SECOND"}}
        ]
    });
}
render_export=Mustache.compile('<!DOCTYPE html>\n'+
'<html lang="en">\n'+
'  <head>\n'+
'    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">\n'+
'    <meta charset="utf-8">\n'+
'    <title>A CableWeaver story line: {{permahash}}</title>\n'+
// '    <link href="http://dod.github.com/cableweaver/css/cableweaver.css" rel="stylesheet">\n'+
'    <style type="text/css">\n'+
'      .node { stroke: #000; stroke-width: 1.5px; stroke-opacity: .6 }\n'+
'      .node.MISSING { stroke:black; stroke-dasharray:2,2 }\n'+
'      .node.SECRET-NOFORN { stroke: #7f0000; }\n'+
'      .node.SECRET { stroke: #7f0000; }\n'+
'      .node.CONFIDENTIAL-NOFORN { stroke: #00007f; }\n'+
'      .node.CONFIDENTIAL { stroke: #00007f; }\n'+
'      .node.UNCLASSIFIED { stroke: #007f00; }\n'+
'      .node.UNCLASSIFIED-FOR-OFFICIAL-USE-ONLY { stroke: #007f00; }\n'+
'      .link { stroke: #000; stroke-opacity: .6; }\n'+
'      quote { display:block; margin-left:23px; padding-left:5px; border-left:solid gray 3px}\n'+
'    </style>\n'+
'    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->\n'+
// '    <!--[if lt IE 9]>\n'+
// '      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>\n'+
// '    <![endif]-->\n'+
'  </head>\n'+
'  <body>\n'+
'     <h1>A CableWeaver story line:</h1>\n'+
'     <h3><a href="{{permalink}}">{{permahash}}</a></h3>\n'+
'     <h2>Graph</h2>\n'+
'     <div id="svg">{{{svg}}}</div>\n'+
'     <h2>Story line</h2>\n'+
'     <dl>\n'+
'       {{#storyline}}\n'+
'         {{#node.uri}}<dt><h4>{{index}}) <a href="{{node.uri}}">{{node.label}}</a> {{node.date}} {{node.classification}}</dt>{{/node.uri}}\n'+
'         {{^node.uri}}<dt><h4>{{index}}) {{node.label}}</h4></dt>{{/node.uri}}\n'+
'         <dd>\n'+
'         <h4>{{#node.subjects}}{{node.subjects}}{{/node.subjects}}{{^node.subjects}}MISSING{{/node.subjects}}</h4>\n'+
'         <!-- Enter remarks for {{node.label}} here. To quote from the cable use the convention: <quote>SOME TEXT...</quote> -->\n'+
'         </dd>\n'+
'       {{/storyline}}\n'+
'     </dl>\n'+
'  </body>\n'+
'</html>');
